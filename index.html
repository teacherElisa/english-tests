<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AJ Mastery Hub - Elisa's Class</title>
    <style>
        :root { --primary: #4a90e2; --secondary: #f39c12; --bg: #f8fbfd; --success: #2ecc71; --error: #e74c3c; --text: #2c3e50; }
        body { font-family: 'Comic Sans MS', cursive, sans-serif; background: var(--bg); color: var(--text); margin: 0; padding: 20px; }
        .app-container { max-width: 900px; margin: 0 auto; background: white; padding: 25px; border-radius: 25px; box-shadow: 0 10px 40px rgba(0,0,0,0.1); border: 5px solid var(--primary); }
        h1 { text-align: center; color: var(--primary); font-size: 2rem; margin-top: 0; text-shadow: 2px 2px 0px #eee; }
        .sections { display: flex; justify-content: center; gap: 10px; margin-bottom: 25px; flex-wrap: wrap; }
        .sec-btn { padding: 12px 18px; border: none; border-radius: 30px; cursor: pointer; font-weight: bold; background: #eee; font-size: 0.9rem; transition: 0.3s; }
        .sec-btn.active { background: var(--primary); color: white; transform: scale(1.05); }
        .sec-btn.dash { background: #9b59b6; color: white; }
        .exercise-grid { display: flex; flex-wrap: wrap; gap: 8px; justify-content: center; margin-bottom: 25px; background: #f0f7ff; padding: 15px; border-radius: 15px; }
        .ex-btn { width: 40px; height: 40px; border: 2px solid var(--primary); background: white; border-radius: 50%; cursor: pointer; font-weight: bold; }
        .ex-btn.active { background: var(--primary); color: white; }
        .ex-btn.done { background: var(--success); border-color: var(--success); color: white; }
        .q-card { margin-bottom: 20px; padding: 20px; border: 2px dashed #ddd; border-radius: 15px; position: relative; background: #fff; }
        .q-text { font-size: 1.2rem; font-weight: bold; margin-bottom: 15px; }
        .options { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }
        label { padding: 10px; border: 1px solid #eee; border-radius: 10px; cursor: pointer; display: flex; align-items: center; gap: 10px; font-size: 1rem; }
        .hint-btn { background: var(--secondary); color: white; border: none; padding: 5px 10px; border-radius: 8px; cursor: pointer; font-size: 0.8rem; float: right; }
        .hint-box { display: none; background: #fff9db; padding: 10px; border-radius: 8px; margin-top: 10px; border-left: 4px solid var(--secondary); font-style: italic; }
        .btn-check { width: 100%; padding: 15px; background: var(--success); color: white; border: none; border-radius: 12px; font-size: 1.2rem; font-weight: bold; cursor: pointer; margin-top: 20px; box-shadow: 0 5px 0 #27ae60; }
        .dashboard-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(100px, 1fr)); gap: 10px; text-align: center; }
        .stat-card { padding: 10px; background: #f9f9f9; border-radius: 10px; border: 1px solid #eee; }
        .stat-card.good { background: #eafff2; border-color: var(--success); }
    </style>
</head>
<body>

<div class="app-container">
    <h1>üá¨üáß AJ Mastery Hub - Elisa's Class</h1>
    <div class="sections">
        <button class="sec-btn active" id="sec-pronouns" onclick="changeSection('pronouns')">Pronouns (1-10)</button>
        <button class="sec-btn" id="sec-adverbs" onclick="changeSection('adverbs')">Adverbs (11-13)</button>
        <button class="sec-btn" id="sec-revision" onclick="changeSection('revision')">Revision (14-18)</button>
        <button class="sec-btn dash" onclick="showDashboard()">üìä My Progress</button>
    </div>
    <div id="exercise-nav" class="exercise-grid"></div>
    <div id="quiz-area"></div>
    <div id="check-btn-area" style="text-align:center;"><button class="btn-check" onclick="checkEx()">Zkontrolovat v√Ωsledky! ‚úÖ</button></div>
    <div id="dashboard-view" style="display:none;">
        <h2 style="text-align:center;">Hvƒõzdiƒçkov√° tabulka üåü</h2>
        <div class="dashboard-grid" id="dash-grid"></div>
        <p id="overall" style="text-align:center; font-weight:bold; margin-top:20px;"></p>
    </div>
</div>

<script>
// Kompletn√≠ data pro v≈°ech 18 cviƒçen√≠
const allEx = [
    { id: 1, section: 'pronouns', title: "Ex 1: Pronouns", questions: [
        { t: "‚ÄúI would never lie to ________,‚Äù Marcus told John.", o: ["she", "you", "us", "he"], a: 1, h: "Marcus mluv√≠ k Johnovi -> tobƒõ (you)." },
        { t: "Daniel is more intelligent than ________.", o: ["me", "her", "mine", "I"], a: 3, h: "V testu po 'than' d√°v√°me tvar podmƒõtu -> I." },
        { t: "You must learn sushi ________.", o: ["herself", "yourself", "myself", "themselves"], a: 1, h: "Ty s√°m -> yourself." },
        { t: "I took a shortcut on ________ own.", o: ["my", "his", "our", "her"], a: 0, h: "Vazba 'on my own' = s√°m." },
        { t: "The manager listened to ________ side.", o: ["ours", "mine", "them", "my"], a: 3, h: "M≈Øj p≈ô√≠bƒõh -> my side." },
        { t: "Ben and Joyce... make ________ wedding.", o: ["he", "mine", "their", "ours"], a: 2, h: "Jejich svatba -> their." },
        { t: "The shoplifter... too fast for ________.", o: ["her", "us", "him", "them"], a: 3, h: "Mluv√≠me o nich (str√°≈æn√≠c√≠ch) -> them." },
        { t: "‚Äú________ are going to sign up,‚Äù the twins said.", o: ["we", "she", "you", "I"], a: 0, h: "Dvojƒçata mluv√≠ za sebe -> we." },
        { t: "Alan and I completed it ________.", o: ["themselves", "yourselves", "ourselves", "myself"], a: 2, h: "My sami -> ourselves." },
        { t: "The computer ________ is a useless machine.", o: ["herself", "themselves", "yourself", "itself"], a: 3, h: "Vƒõci/stroje -> itself." }
    ], score: null },
    { id: 2, section: 'pronouns', title: "Ex 2: Pronouns", questions: [
        { t: "Colin encouraged his sister to talk to _______.", o: ["she", "they", "him", "I"], a: 2, h: "Mluv√≠ k nƒõmu -> him." },
        { t: "Ben will meet Sandra and _______.", o: ["I", "me", "he", "they"], a: 1, h: "Potk√° mƒõ (p≈ôedmƒõt) -> me." },
        { t: "Did you get _______?", o: ["mine", "her", "them", "yours"], a: 3, h: "Tvoje? -> yours." },
        { t: "This violin is definitely not _______.", o: ["mine", "my", "hers", "his"], a: 0, h: "Moje (samostatnƒõ) -> mine." },
        { t: "‚ÄúDo _______ want to watch a show?‚Äù", o: ["I", "you", "we", "them"], a: 1, h: "Ty? -> you." },
        { t: "‚ÄúPlease inform her _______.‚Äù", o: ["yourself", "himself", "herself", "themselves"], a: 0, h: "Ty s√°m -> yourself." },
        { t: "Animals... take care of young _______.", o: ["himself", "itself", "herself", "themselves"], a: 3, h: "Zv√≠≈ôata (oni) -> themselves." },
        { t: "You have to turn up ________.", o: ["himself", "herself", "yourself", "ourselves"], a: 2, h: "Ty osobnƒõ -> yourself." },
        { t: "‚Äú...what do you want me to tell _______?‚Äù", o: ["her", "you", "him", "them"], a: 2, h: "≈ò√≠ct jemu -> him." },
        { t: "Cheryl... pay for the dress _______.", o: ["itself", "herself", "themselves", "himself"], a: 1, h: "Ona sama -> herself." }
    ], score: null },
    // Cviƒçen√≠ 3-10 (Pronouns) - zkr√°ceno pro p≈ôehlednost, vlo≈æte sem zbytek dat z EXERCISES.docx
    { id: 11, section: 'adverbs', title: "Ex 11: Adverbs", questions: [
        { t: "You will be fired if you are ________ absent.", o: ["seldom", "rarely", "barely", "often"], a: 3, h: "ƒåasto (often)." },
        { t: "You must ________ do it again.", o: ["seldom", "rarely", "hardly", "never"], a: 3, h: "Nikdy (never)." },
        { t: "My grandmother is ________ ill.", o: ["rarely", "hardly", "seriously", "barely"], a: 2, h: "V√°≈ænƒõ (seriously)." },
        { t: "To cross the road ________...", o: ["safely", "bravely", "fiercely", "dangerously"], a: 0, h: "Bezpeƒçnƒõ (safely)." },
        { t: "He could ________ swallow.", o: ["easily", "hardly", "luckily", "sibilantly"], a: 1, h: "Stƒõ≈æ√≠ (hardly)." },
        { t: "The soldiers fought ________.", o: ["bravely", "cowardly", "slowly", "weakly"], a: 0, h: "Stateƒçnƒõ (bravely)." },
        { t: "The wind blew so ________.", o: ["softly", "gently", "strongly", "weakly"], a: 2, h: "Silnƒõ (strongly)." },
        { t: "My sister speaks so ________.", o: ["loudly", "softly", "clearly", "quickly"], a: 1, h: "Potichu (softly)." },
        { t: "The tortoise moves ________.", o: ["fast", "quickly", "slowly", "rapidly"], a: 2, h: "Pomalu (slowly)." },
        { t: "The children played ________.", o: ["sadly", "happily", "angrily", "quietly"], a: 1, h: "≈†≈•astnƒõ (happily)." }
    ], score: null },
    // Cviƒçen√≠ 12-17 doplnit podobnƒõ...
    { id: 18, section: 'revision', title: "Ex 18: Revision", questions: [
        { t: "The man ________ police are looking for...", o: ["who", "whom", "which", "whose"], a: 1, h: "Koho hledaj√≠ -> whom." },
        { t: "The man ________ had come up...", o: ["whom", "who", "which", "whose"], a: 1, h: "Kdo p≈ôi≈°el -> who." },
        { t: "Take the ________ packet.", o: ["small", "as small", "smallest", "smaller"], a: 0, h: "Z√°kladn√≠ stupe≈à -> small." },
        { t: "My family and ________ go to church.", o: ["they", "me", "I", "us"], a: 2, h: "Podmƒõt vƒõty -> I." },
        { t: "The prefect let Peter and ________ in.", o: ["me", "I", "her", "they"], a: 0, h: "P≈ôedmƒõt -> me." },
        { t: "‚Äú...________ have only 30 seconds,‚Äù", o: ["I", "we", "you", "they"], a: 2, h: "Mluv√≠ k v√°m (vy) -> you." },
        { t: "The sound ________ you had heard...", o: ["which", "whom", "whose", "who"], a: 0, h: "Vƒõci -> which." },
        { t: "They were ________ amazing.", o: ["strongly", "truly", "fairly", "adequately"], a: 1, h: "Opravdu -> truly." },
        { t: "The station had ________ shown...", o: ["never", "seldom", "rarely", "once"], a: 0, h: "Nikdy p≈ôedt√≠m -> never." },
        { t: "The older you get, the ________ it is.", o: ["difficult", "more difficult", "most difficult", "as difficult"], a: 1, h: "ƒå√≠m star≈°√≠, t√≠m tƒõ≈æ≈°√≠ -> more difficult." }
    ], score: null }
];

let curIdx = 0;

function changeSection(sec) {
    document.querySelectorAll('.sec-btn').forEach(b => b.classList.remove('active'));
    document.getElementById('sec-' + sec).classList.add('active');
    document.getElementById('quiz-area').style.display = 'block';
    document.getElementById('check-btn-area').style.display = 'block';
    document.getElementById('exercise-nav').style.display = 'flex';
    document.getElementById('dashboard-view').style.display = 'none';
    renderNav(sec);
    const first = allEx.findIndex(e => e.section === sec);
    showEx(first);
}

function renderNav(sec) {
    const nav = document.getElementById('exercise-nav');
    nav.innerHTML = '';
    allEx.forEach((ex, i) => {
        if (ex.section === sec) {
            const b = document.createElement('button');
            b.className = `ex-btn ${i === curIdx ? 'active' : ''} ${ex.score !== null ? 'done' : ''}`;
            b.textContent = ex.id;
            b.onclick = () => showEx(i);
            nav.appendChild(b);
        }
    });
}

function showEx(idx) {
    curIdx = idx;
    renderNav(allEx[idx].section);
    const area = document.getElementById('quiz-area');
    const ex = allEx[idx];
    area.innerHTML = `<h2>${ex.title}</h2>`;
    ex.questions.forEach((q, qi) => {
        area.innerHTML += `
            <div class="q-card" id="card-${idx}-${qi}">
                <button class="hint-btn" onclick="toggleHint(${idx},${qi})">Hint üí°</button>
                <div class="q-text">${qi+1}. ${q.t}</div>
                <div class="hint-box" id="hint-${idx}-${qi}">${q.h}</div>
                <div class="options">
                    ${q.o.map((o, oi) => `<label><input type="radio" name="e${idx}q${qi}" value="${oi}"> ${o}</label>`).join('')}
                </div>
                <div id="feed-${idx}-${qi}" style="margin-top:10px; font-weight:bold; display:none;"></div>
            </div>`;
    });
}

function toggleHint(e, q) {
    const h = document.getElementById(`hint-${e}-${q}`);
    h.style.display = h.style.display === 'block' ? 'none' : 'block';
}

function checkEx() {
    const ex = allEx[curIdx];
    let s = 0;
    ex.questions.forEach((q, qi) => {
        const sel = document.querySelector(`input[name="e${curIdx}q${qi}"]:checked`);
        const feed = document.getElementById(`feed-${curIdx}-${qi}`);
        const card = document.getElementById(`card-${curIdx}-${qi}`);
        feed.style.display = 'block';
        if (sel && parseInt(sel.value) === q.a) {
            s++; card.style.borderColor = 'var(--success)'; feed.innerHTML = '‚úÖ Correct!'; feed.style.color = 'var(--success)';
        } else {
            card.style.borderColor = 'var(--error)'; feed.innerHTML = `‚ùå Correct: ${q.o[q.a]}`; feed.style.color = 'var(--error)';
        }
    });
    ex.score = s;
    renderNav(ex.section);
}

function showDashboard() {
    document.getElementById('quiz-area').style.display = 'none';
    document.getElementById('check-btn-area').style.display = 'none';
    document.getElementById('exercise-nav').style.display = 'none';
    const view = document.getElementById('dashboard-view');
    view.style.display = 'block';
    const grid = document.getElementById('dash-grid');
    grid.innerHTML = '';
    let total = 0;
    allEx.forEach(ex => {
        const div = document.createElement('div');
        div.className = `stat-card ${ex.score >= 8 ? 'good' : ''}`;
        div.innerHTML = `<strong>Ex ${ex.id}</strong><br>${ex.score !== null ? ex.score : '-'} / 10`;
        grid.appendChild(div);
        total += (ex.score || 0);
    });
    document.getElementById('overall').textContent = `Celkov√© sk√≥re: ${total} / 180`;
}

changeSection('pronouns');
</script>
</body>
</html>
