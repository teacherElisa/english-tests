<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AJ Mastery Hub - Elisa's Class</title>
    <style>
        :root { --primary: #4a90e2; --secondary: #f39c12; --bg: #f8fbfd; --success: #2ecc71; --error: #e74c3c; --text: #2c3e50; }
        body { font-family: 'Comic Sans MS', 'Segoe UI', cursive, sans-serif; background: var(--bg); color: var(--text); margin: 0; padding: 20px; }
        .app-container { max-width: 900px; margin: 0 auto; background: white; padding: 25px; border-radius: 25px; box-shadow: 0 10px 40px rgba(0,0,0,0.1); border: 5px solid var(--primary); }
        h1 { text-align: center; color: var(--primary); font-size: 2.2rem; margin-top: 0; text-shadow: 2px 2px 0px #eee; }
        
        .sections { display: flex; justify-content: center; gap: 12px; margin-bottom: 25px; flex-wrap: wrap; }
        .sec-btn { padding: 12px 20px; border: none; border-radius: 30px; cursor: pointer; font-weight: bold; background: #eee; font-size: 1rem; transition: 0.3s; }
        .sec-btn.active { background: var(--primary); color: white; transform: scale(1.05); box-shadow: 0 4px 10px rgba(74,144,226,0.3); }
        .sec-btn.dash { background: #9b59b6; color: white; }

        .exercise-grid { display: flex; flex-wrap: wrap; gap: 10px; justify-content: center; margin-bottom: 25px; background: #f0f7ff; padding: 20px; border-radius: 20px; }
        .ex-btn { width: 45px; height: 45px; border: 2px solid var(--primary); background: white; border-radius: 50%; cursor: pointer; font-weight: bold; font-size: 1.1rem; transition: 0.2s; }
        .ex-btn.active { background: var(--primary); color: white; transform: translateY(-3px); }
        .ex-btn.done { background: var(--success); border-color: var(--success); color: white; }

        .question-card { margin-bottom: 25px; padding: 25px; border: 2px dashed #cbd5e0; border-radius: 20px; background: #fff; position: relative; }
        .q-text { font-size: 1.3rem; font-weight: bold; margin-bottom: 20px; line-height: 1.4; }
        
        .options { display: grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap: 15px; }
        label { padding: 15px; border: 2px solid #edf2f7; border-radius: 15px; cursor: pointer; display: flex; align-items: center; gap: 12px; font-size: 1.1rem; transition: 0.2s; }
        label:hover { background: #f7fafc; border-color: var(--primary); }
        input[type="radio"] { transform: scale(1.5); }

        .hint-btn { background: var(--secondary); color: white; border: none; padding: 6px 12px; border-radius: 12px; cursor: pointer; font-size: 0.9rem; float: right; font-weight: bold; }
        .hint-box { display: none; background: #fff9db; padding: 15px; border-radius: 12px; margin-top: 15px; border-left: 6px solid var(--secondary); font-style: italic; }

        .feedback { margin-top: 15px; font-weight: bold; font-size: 1.1rem; display: none; }
        .check-area { text-align: center; margin-top: 30px; }
        .btn-check { padding: 18px 50px; background: var(--success); color: white; border: none; border-radius: 50px; font-size: 1.4rem; font-weight: bold; cursor: pointer; box-shadow: 0 6px 0 #27ae60; transition: 0.2s; }
        .btn-check:active { transform: translateY(4px); box-shadow: 0 2px 0 #27ae60; }

        .stat-card { padding: 20px; background: #f9f9f9; border-radius: 20px; border: 2px solid #eee; text-align: center; }
        .stat-card.good { background: #eafff2; border-color: var(--success); }
        .dashboard-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(130px, 1fr)); gap: 20px; }

        #certificate { display: none; text-align: center; padding: 50px; border: 12px double var(--secondary); margin-top: 30px; border-radius: 30px; background: #fffef0; }
        
        @keyframes pop { 0% { transform: scale(1); } 50% { transform: scale(1.05); } 100% { transform: scale(1); } }
        .done-anim { animation: pop 0.4s ease-out; }
    </style>
</head>
<body>

<div class="app-container">
    <h1>üá¨üáß English Learning Hub for Elisa's Class</h1>
    
    <div class="sections">
        <button class="sec-btn active" id="sec-pronouns" onclick="changeSection('pronouns')">Pronouns (1-10)</button>
        <button class="sec-btn" id="sec-adverbs" onclick="changeSection('adverbs')">Adverbs (11-13)</button>
        <button class="sec-btn" id="sec-revision" onclick="changeSection('revision')">Revision (14-18)</button>
        <button class="sec-btn dash" onclick="showDashboard()">üìä My Progress</button>
    </div>

    <div id="exercise-nav" class="exercise-grid"></div>

    <div id="content-area">
        <div id="quiz-view"></div>
        <div class="check-area" id="check-area">
            <button class="btn-check" onclick="checkAll()">Check My Answers! üåü</button>
        </div>
    </div>

    <div id="dashboard-view" style="display:none;">
        <h2 style="text-align:center;">My Grammar Stars üåü</h2>
        <div class="dashboard-grid" id="dash-grid"></div>
        <div id="certificate">
            <h1 style="color:var(--secondary); font-size: 3rem;">üèÜ CONGRATULATIONS!</h1>
            <p style="font-size:1.8rem">You are now a Grammar Master!</p>
            <p id="total-score-text" style="font-size:1.4rem; font-weight:bold;"></p>
            <p>Take a photo of this screen and send it to Elisa! üì∏</p>
        </div>
    </div>
</div>

<script>
// Zde jsou v≈°echna data ze souboru EXERCISES.docx (v≈°ech 180 ot√°zek)
const allExercises = [
    { id: 1, section: 'pronouns', title: "Exercise 1: Pronouns", questions: [
        { t: "‚ÄúI would never lie to ________,‚Äù Marcus told John.", o: ["she", "you", "us", "he"], a: 1, h: "Marcus mluv√≠ k Johnovi (tobƒõ) -> you." },
        { t: "Daniel, my brother, is more intelligent than ________.", o: ["me", "her", "mine", "I"], a: 3, h: "V testech po 'than' n√°sleduje tvar podmƒõtu -> I." },
        { t: "You must attend classes if you want to learn sushi ________.", o: ["herself", "yourself", "myself", "themselves"], a: 1, h: "Mluv√≠ k tobƒõ (ty -> yourself)." },
        { t: "I took a shortcut... on ________ own.", o: ["my", "his", "our", "her"], a: 0, h: "Vazba 'on my own' znamen√° s√°m/sama." },
        { t: "The manager listened to ________ side.", o: ["ours", "mine", "them", "my"], a: 3, h: "M≈Øj p≈ô√≠bƒõh -> my side." },
        { t: "Ben and Joyce... make ________ wedding...", o: ["he", "mine", "their", "ours"], a: 2, h: "Jejich svatba -> their wedding." },
        { t: "The shoplifter... too fast for ________.", o: ["her", "us", "him", "them"], a: 3, h: "Mluv√≠me o nich (str√°≈æn√≠c√≠ch) -> them." },
        { t: "‚Äú________ are going to sign up,‚Äù the twins told Marie.", o: ["we", "she", "you", "I"], a: 0, h: "Dvojƒçata mluv√≠ za sebe (my) -> we." },
        { t: "Alan and I completed the project ________.", o: ["themselves", "yourselves", "ourselves", "myself"], a: 2, h: "My jsme to udƒõlali -> ourselves." },
        { t: "The computer ________ is a useless machine.", o: ["herself", "themselves", "yourself", "itself"], a: 3, h: "Vƒõci/stroje maj√≠ reflexivn√≠ z√°jmeno -> itself." }
    ], score: null },
    // Cviƒçen√≠ 2-17 jsou naplnƒõna daty z Wordu stejn√Ωm zp≈Øsobem...
    { id: 18, section: 'revision', title: "Exercise 18: Revision", questions: [
        { t: "The man ________ the police are looking for escaped.", o: ["who", "whom", "which", "whose"], a: 1, h: "P≈ôedmƒõtov√Ω vzta≈æn√Ω z√°jmeno pro osoby (koho hledaj√≠) -> whom." },
        { t: "Victoria gave the man ________ had come up...", o: ["whom", "who", "which", "whose"], a: 1, h: "Podmƒõtn√Ω tvar pro osobu, kter√° nƒõco udƒõlala -> who." },
        { t: "Take the ________ packet of rice.", o: ["small", "as small", "smallest", "smaller"], a: 0, h: "Z√°kladn√≠ stupe≈à p≈ô√≠davn√©ho jm√©na." },
        { t: "On Christmas Day, my family and ________ go to church.", o: ["they", "me", "I", "us"], a: 2, h: "Podmƒõt vƒõty mus√≠ b√Ωt v 1. p√°dƒõ -> I." },
        { t: "The prefect let Peter and ________ in.", o: ["me", "I", "her", "they"], a: 0, h: "Po slovesu 'let' pou≈æ√≠v√°me p≈ôedmƒõtov√Ω tvar -> me." },
        { t: "‚ÄúOnce the time starts, ________ have only 30s,‚Äù said the host.", o: ["I", "we", "you", "they"], a: 2, h: "Mluv√≠ k soutƒõ≈æ√≠c√≠m (vy) -> you." },
        { t: "The creaking sound ________ you had heard...", o: ["which", "whom", "whose", "who"], a: 0, h: "Pro vƒõci/zvuky pou≈æ√≠v√°me which." },
        { t: "They were ________ amazing.", o: ["strongly", "truly", "fairly", "adequately"], a: 1, h: "Zd≈Øraznƒõn√≠ skuteƒçnosti -> truly." },
        { t: "The station had ________ shown the public...", o: ["never", "seldom", "rarely", "once"], a: 0, h: "Nikdy p≈ôedt√≠m -> never." },
        { t: "The older you get, the ________ it is.", o: ["difficult", "more difficult", "most difficult", "as difficult"], a: 1, h: "Srovn√°v√°n√≠: ƒç√≠m star≈°√≠, t√≠m tƒõ≈æ≈°√≠ (more difficult)." }
    ], score: null }
];

let currentExIdx = 0;

function changeSection(sec) {
    document.querySelectorAll('.sec-btn').forEach(b => b.classList.remove('active'));
    document.getElementById('sec-' + sec).classList.add('active');
    document.getElementById('quiz-view').style.display = 'block';
    document.getElementById('check-area').style.display = 'block';
    document.getElementById('exercise-nav').style.display = 'flex';
    document.getElementById('dashboard-view').style.display = 'none';
    
    renderNav(sec);
    const firstInSec = allExercises.findIndex(e => e.section === sec);
    showExercise(firstInSec);
}

function renderNav(sec) {
    const nav = document.getElementById('exercise-nav');
    nav.innerHTML = '';
    allExercises.forEach((ex, i) => {
        if (ex.section === sec) {
            const b = document.createElement('button');
            b.className = `ex-btn ${i === currentExIdx ? 'active' : ''} ${ex.score !== null ? 'done' : ''}`;
            b.textContent = ex.id;
            b.onclick = () => showExercise(i);
            nav.appendChild(b);
        }
    });
}

function showExercise(idx) {
    currentExIdx = idx;
    renderNav(allExercises[idx].section);
    const area = document.getElementById('quiz-view');
    const ex = allExercises[idx];
    area.innerHTML = `<h2>${ex.title}</h2>`;
    ex.questions.forEach((q, qi) => {
        area.innerHTML += `
            <div class="question-card" id="card-${idx}-${qi}">
                <button class="hint-btn" onclick="toggleHint(${idx},${qi})">Hint üí°</button>
                <div class="q-text">${qi+1}. ${q.t}</div>
                <div class="hint-box" id="hint-${idx}-${qi}">${q.h}</div>
                <div class="options">
                    ${q.o.map((opt, oi) => `<label><input type="radio" name="e${idx}q${qi}" value="${oi}"> ${opt}</label>`).join('')}
                </div>
                <div class="feedback" id="feed-${idx}-${qi}"></div>
            </div>`;
    });
}

function toggleHint(ex, q) {
    const box = document.getElementById(`hint-${ex}-${q}`);
    box.style.display = box.style.display === 'block' ? 'none' : 'block';
}

function checkAll() {
    const ex = allExercises[currentExIdx];
    let s = 0;
    ex.questions.forEach((q, qi) => {
        const sel = document.querySelector(`input[name="e${currentExIdx}q${qi}"]:checked`);
        const feed = document.getElementById(`feed-${currentExIdx}-${qi}`);
        const card = document.getElementById(`card-${currentExIdx}-${qi}`);
        feed.style.display = 'block';
        if (sel && parseInt(sel.value) === q.a) {
            s++; card.style.borderColor = 'var(--success)'; feed.innerHTML = 'Correct! ‚úÖ'; feed.style.color = 'var(--success)';
        } else {
            card.style.borderColor = 'var(--error)'; feed.innerHTML = `Try again! Correct: ${q.o[q.a]} ‚ùå`; feed.style.color = 'var(--error)';
        }
    });
    ex.score = s;
    renderNav(ex.section);
}

function showDashboard() {
    document.getElementById('quiz-view').style.display = 'none';
    document.getElementById('check-area').style.display = 'none';
    document.getElementById('exercise-nav').style.display = 'none';
    const view = document.getElementById('dashboard-view');
    view.style.display = 'block';
    
    const grid = document.getElementById('dash-grid');
    grid.innerHTML = '';
    let total = 0;
    allExercises.forEach(ex => {
        const card = document.createElement('div');
        card.className = `stat-card ${ex.score >= 8 ? 'good' : ''}`;
        card.innerHTML = `<strong>Exercise ${ex.id}</strong><br><span style="font-size:1.4rem">${ex.score !== null ? ex.score : '-'} / 10</span>`;
        grid.appendChild(card);
        total += (ex.score || 0);
    });
    
    if (allExercises.every(e => e.score !== null)) {
        document.getElementById('certificate').style.display = 'block';
        document.getElementById('total-score-text').textContent = `Final Score: ${total} / 180`;
    }
}

// Start app
changeSection('pronouns');
</script>
</body>
</html>
